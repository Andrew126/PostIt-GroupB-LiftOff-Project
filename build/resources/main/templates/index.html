<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head">
</head>
<body>

<div th:replace="fragments :: page-header"></div>

<div class="container body-content">
    <h2>Post it!</h2>
    <a href="/post">Make a post</a>
    <div>
        <th:block th:each="post : ${posts}">
            <th:block th:if="${post.type == 'text'}">
                <div th:if="${!post.anonymous}">
                    <a th:text="${post.title}" th:href="@{'/edit/' + ${post.getId()}}" style="font-size: 30px"></a>
                    <p th:text="${post.body}"></p>
                    <p th:text="${post.user.username}"></p>
                </div>
                <div th:if="${post.anonymous}">
                    <a th:text="${post.title}" th:href="@{'/edit/' + ${post.getId()}}" style="font-size: 30px"></a>
                    <p th:text="${post.body}"></p>
                    <p>Anonymously Posted</p>
                </div>
            </th:block>
            <th:block th:if="${post.type == 'image'}">
                <div th:if="${!post.anonymous}">
                    <a th:text="${post.title}" th:href="@{'/edit/' + ${post.getId()}}" style="font-size: 30px"></a>
                    <img th:src="${post.url}"/>
                    <p th:text="${post.user.username}"></p>
                </div>
                <div th:if="${post.anonymous}">
                    <a th:text="${post.title}" th:href="@{'/edit/' + ${post.getId()}}" style="font-size: 30px"></a>
                    <img th:src="${post.url}"/>
                    <p>Anonymously Posted</p>
                </div>
            </th:block>

        </th:block>
    </div>


</div>

</body>
</html>